<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright © Tanner Gooding and Contributors. Licensed under the MIT License (MIT). See License.md in the repository root for more information. -->
<!-- Ported from https://github.com/MicrosoftDocs/sdk-api/ -->
<doc>
  <member name="COPYFILE2_EXTENDED_PARAMETERS">
    <summary>Contains extended parameters for the <see cref="CopyFile2" /> function.</summary>
  </member>
  <member name="COPYFILE2_EXTENDED_PARAMETERS.dwSize">
    <summary>Contains the size of this structure, <code>sizeof(COPYFILE2_EXTENDED_PARAMETERS)</code>.</summary>
  </member>
  <member name="COPYFILE2_EXTENDED_PARAMETERS.dwCopyFlags">
    <summary>
      <para>Contains a combination of zero or more of these flag values.</para>
      <para>| Value | Meaning | | ----- | ------- | | <b>COPY_FILE_FAIL_IF_EXISTS</b><br /><code>0x00000001</code> | If the destination file exists the copy operation fails immediately. If a file or directory exists with the destination name then the <see cref="CopyFile2" /> function call will fail with either <code>HRESULT_FROM_WIN32(ERROR_ALREADY_EXISTS)</code> or <code>HRESULT_FROM_WIN32(ERROR_FILE_EXISTS)</code>. If <b>COPY_FILE_RESUME_FROM_PAUSE</b> is also specified then a failure is only triggered if the destination file does not have a valid restart header. | | <b>COPY_FILE_RESTARTABLE</b><br /><code>0x00000002</code> | The file is copied in a manner that can be restarted if the same source and destination filenames are used again. This is slower. | | <b>COPY_FILE_OPEN_SOURCE_FOR_WRITE</b><br /><code>0x00000004</code> | The file is copied and the source file is opened for write access. | | <b>COPY_FILE_ALLOW_DECRYPTED_DESTINATION</b><br /><code>0x00000008</code> | The copy will be attempted even if the destination file cannot be encrypted. | | <b>COPY_FILE_COPY_SYMLINK</b><br /><code>0x00000800</code> | If the source file is a symbolic link, the destination file is also a symbolic link pointing to the same file as the source symbolic link. | | <b>COPY_FILE_NO_BUFFERING</b><br /><code>0x00001000</code> | The copy is performed using unbuffered I/O, bypassing the system cache resources. This flag is recommended for very large file copies. It is not recommended to pause copies that are using this flag. | | <b>COPY_FILE_REQUEST_SECURITY_PRIVILEGES</b><br /><code>0x00002000</code> | The copy is attempted, specifying <code>ACCESS_SYSTEM_SECURITY</code> for the source file and <code>ACCESS_SYSTEM_SECURITY \| WRITE_DAC \| WRITE_OWNER</code> for the destination file. If these requests are denied the access request will be reduced to the highest privilege level for which access is granted. For more information see <a href="https://docs.microsoft.com//windows/win32/SecAuthZ/sacl-access-right">SACL Access Right</a>. This can be used to allow the <a href="https://docs.microsoft.com//windows/win32/api/winbase/nc-winbase-pcopyfile2_progress_routine">CopyFile2ProgressRoutine</a> callback to perform operations requiring higher privileges, such as copying the security attributes for the file. | | <b>COPY_FILE_RESUME_FROM_PAUSE</b><br /><code>0x00004000</code> | The destination file is examined to see if it was copied using <b>COPY_FILE_RESTARTABLE</b>. If so the copy is resumed. If not the file will be fully copied. | | <b>COPY_FILE_NO_OFFLOAD</b><br /><code>0x00040000</code> | Do not attempt to use the Windows Copy Offload mechanism. This is not generally recommended. | | <b>COPY_FILE_IGNORE_EDP_BLOCK</b><br /><code>0x00400000</code> | Instead of blocking, the file should be copied and encrypted on the destination if supported by the destination file system. <b>Supported on Windows 10 and later.</b> | | <b>COPY_FILE_IGNORE_SOURCE_ENCRYPTION</b><br /><code>0x00800000</code> | Ignore the source file’s encrypted state. <b>Supported on Windows 10 and later.</b> | | <b>COPY_FILE_DONT_REQUEST_DEST_WRITE_DAC</b><br /><code>0x02000000</code> | Don't request WRITE_DAC for the destination file access. <b>Supported on Windows 10 and later.</b> | | <b>COPY_FILE_OPEN_AND_COPY_REPARSE_POINT</b><br /><code>0x00200000</code> | Always copy the reparse point regardless of type. It's the caller’s responsibility to understand the reparse point meaning. <b>Supported on Windows 10, build 19041 and later.</b> | | <b>COPY_FILE_DIRECTORY</b><br /><code>0x00000080</code> | Indicates the source file is a directory file. When provided, the source file is opened with <code>FILE_OPEN_FOR_BACKUP_INTENT</code>. The directory file will have its alternate data streams, reparse point info, and EAs copied like a normal file. <b>Supported in Windows 10, build 19041 and later.</b> | | <b>COPY_FILE_SKIP_ALTERNATE_STREAMS</b><br /><code>0x00008000</code> | Do not copy alternate data streams. <b>Supported in Windows 10, build 19041 and later.</b> | | <b>COPY_FILE_DISABLE_PRE_ALLOCATION</b><br /><code>0x04000000</code> | Do not preallocate the destination file size before performing the copy. <b>Supported in Windows 10, build 19041 and later.</b> | | <b>COPY_FILE_ENABLE_LOW_FREE_SPACE_MODE</b><br /><code>0x08000000</code> | Enable LowFreeSpace mode. No overlapped I/Os are used. ODX and SMB offload are not attempted. <b>Supported in Windows 10, build 19041 and later.</b> | | <b>COPY_FILE_REQUEST_COMPRESSED_TRAFFIC</b><br /><code>0x10000000</code> | Request the underlying transfer channel compress the data during the copy operation. The request may not be supported for all mediums, in which case it is ignored. The compression attributes and parameters (computational complexity, memory usage) are not configurable through this API, and are subject to change between different OS releases.<br /><br />This flag was introduced in Windows 10, version 1903 and Windows Server 2022. On Windows 10, the flag is supported for files residing on SMB shares, where the negotiated SMB protocol version is SMB v3.1.1 or greater. | | <b>COPY_FILE_ENABLE_SPARSE_COPY</b><br /><code>0x20000000</code> | Enable retaining the sparse state of the file during copy. <b>Supported in Windows 11, build 22H2 and later.</b> |</para>
    </summary>
  </member>
  <member name="COPYFILE2_EXTENDED_PARAMETERS.pfCancel">
    <summary>If this flag is set to <b>TRUE</b> during the copy operation then the copy operation is canceled.</summary>
  </member>
  <member name="COPYFILE2_EXTENDED_PARAMETERS.pProgressRoutine">
    <summary>The optional address of a callback function of type <b>PCOPYFILE2_PROGRESS_ROUTINE</b> that is called each time another portion of the file has been copied. This parameter can be <b>NULL</b>. For more information on the progress callback function, see the <a href="https://docs.microsoft.com/nc-winbase-pcopyfile2_progress_routine.md">CopyFile2ProgressRoutine</a> callback function.</summary>
  </member>
  <member name="COPYFILE2_EXTENDED_PARAMETERS.pvCallbackContext">
    <summary>A pointer to application-specific context information to be passed to the <a href="https://docs.microsoft.com/nc-winbase-pcopyfile2_progress_routine.md">CopyFile2ProgressRoutine</a>.</summary>
  </member>
</doc>